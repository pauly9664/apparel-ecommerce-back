(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Ge0H:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("mrSG"),o=t("ZZ/e"),r=t("gIcY"),i=t("OleK"),c=t("9I/R"),s=t("3k4I"),a=function(){function l(l,n,t,u,e){this.productsService=l,this.alertCtrl=n,this.cartService=t,this.modalCtrl=u,this.loadingController=e,this.products=[],this.product=[],this.produce=[],this.productCategory=[],this.items=[],this.categorySelected=null,this.pricesCart=[],this.cart=[],this.filterAgain(),this.searchControl=new r.e}return l.prototype.ngOnInit=function(){this.presentLoadingWithOptions2(),this.cartItemCount=this.cartService.getCartItemCount(),this.cart=this.cartService.getCart(),this.queryOnBrowse()},l.prototype.openCart=function(){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(l){switch(l.label){case 0:return[4,this.modalCtrl.create({component:s.a})];case 1:return l.sent().present(),[2]}}))}))},l.prototype.FilterArrayObjects=function(l){var n=this;this.prods=l.target.value,console.log("event data",this.prods),this.prods&&""!=this.prods.trim()&&(this.products=this.products.filter((function(l){return l.description.toLowerCase().indexOf(n.prods.toLowerCase())>-1})))},l.prototype.filterItems=function(l){return e.b(this,void 0,void 0,(function(){var n=this;return e.e(this,(function(t){return this.categorySelected=l.target.value,console.log("dropdown cat:",this.categorySelected),this.presentLoadingWithOptions(),this.produce=this.products.filter((function(l){return l.category==n.categorySelected})),console.log("this is iiiiiiit",this.produce),[2]}))}))},l.prototype.queryOnBrowse=function(){var l=this;this.productsService.getImages().subscribe((function(n){l.products=n,l.produce=n,console.log("This produce",l.produce)}))},l.prototype.filterAgain=function(){var l=this;this.productsService.getCategories().subscribe((function(n){l.product=n,console.log("Cats:",l.product),l.product.forEach((function(n){console.log("Categories",n.description),l.productCategory.push(n.description)}))}))},l.prototype.openImage=function(l){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(n){switch(n.label){case 0:return console.log(l),[4,this.modalCtrl.create({component:c.a,componentProps:{img:l}})];case 1:return n.sent().present(),[2]}}))}))},l.prototype.filterByPrice=function(l){var n=this;this.price=l,this.presentLoadingWithOptions(),this.produce=this.products.filter((function(l){return l.price<n.price})),console.log("Price List",this.produce),console.log("What the price",this.price)},l.prototype.queryProductsData=function(){var l=this;this.products=this.products.filter((function(n){return n.category==l.categorySelected})),console.log("Getting there",this.categorySelected)},l.prototype.presentLoadingWithOptions=function(){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(l){switch(l.label){case 0:return[4,this.loadingController.create({spinner:"circles",duration:500,message:"Fetching... "+this.categorySelected,cssClass:"custom-class custom-loading"})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}}))}))},l.prototype.presentLoadingWithOptions2=function(){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(l){switch(l.label){case 0:return[4,this.loadingController.create({spinner:"crescent",duration:500,message:"LOADING...",cssClass:"custom-class custom-loading"})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}}))}))},l.prototype.mediaLaunch=function(){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(l){switch(l.label){case 0:return[4,this.alertCtrl.create({header:"Shopping Page",message:"Please select a category first or use the price range option to set max price limit",buttons:["OK"]})];case 1:return l.sent().present(),[2]}}))}))},l}(),b=function(){return function(){}}(),p=t("pMnS"),h=t("oBZk"),f=t("Ip0R"),d=u.pb({encapsulation:0,styles:[[".styler[_ngcontent-%COMP%]{font-weight:700;font-family:Open Sans}.first_col[_ngcontent-%COMP%]{position:fixed;bottom:10px;background-color:#000}.column[_ngcontent-%COMP%]{flex:25%;max-width:50%;padding:0 4px;margin-left:auto;margin-right:auto}.footer-styling[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans}ion-footer[_ngcontent-%COMP%]{background-color:#000}"]],data:{}});function g(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,2,"ion-badge",[],null,null,null,h.N,h.c)),u.qb(1,49152,null,0,o.j,[u.h,u.k,u.z],null,null),(l()(),u.Jb(2,0,["",""]))],null,(function(l,n){l(n,2,0,n.component.cart.length)}))}function m(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.qb(1,147456,null,0,r.n,[u.k,u.E,[8,null]],{value:[0,"value"]},null),u.qb(2,147456,null,0,r.u,[u.k,u.E,[8,null]],{value:[0,"value"]},null),(l()(),u.Jb(3,null,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)}),(function(l,n){l(n,3,0,n.context.$implicit)}))}function y(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,0,"img",[["style","max-width: 200px;"]],[[8,"src",4]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openImage(l.context.$implicit)&&u),u}),null,null)),(l()(),u.rb(2,0,null,null,15,"div",[["class","column"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,2,"p",[["style","font-family: Open Sans; font-weight: bold"]],null,null,null,null,null)),(l()(),u.Jb(4,null,[" ",""])),(l()(),u.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.rb(6,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),u.rb(7,0,null,null,4,"span",[["style","background-color: #000;color: #fff; font-size: 13px;"]],null,null,null,null,null)),(l()(),u.rb(8,0,null,null,3,"i",[],null,null,null,null,null)),(l()(),u.Jb(9,null,[" KES "," "])),(l()(),u.rb(10,0,null,null,1,"span",[["style","color: limegreen;"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["(All prices are negotiable)"])),(l()(),u.rb(12,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.rb(13,0,null,null,4,"ion-button",[["color","light"],["size","small"],["style","color: #000;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openImage(l.context.$implicit)&&u),u}),h.O,h.d)),u.qb(14,49152,null,0,o.k,[u.h,u.k,u.z],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.rb(15,0,null,0,1,"ion-icon",[["name","information"]],null,null,null,h.ab,h.p)),u.qb(16,49152,null,0,o.C,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.Jb(-1,0,["VIEW MORE"]))],(function(l,n){l(n,14,0,"light","small"),l(n,16,0,"information")}),(function(l,n){l(n,1,0,n.context.$implicit.url),l(n,4,0,n.context.$implicit.description),l(n,9,0,n.context.$implicit.price)}))}function z(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,17,"ion-header",[],null,null,null,h.Z,h.o)),u.qb(1,49152,null,0,o.B,[u.h,u.k,u.z],null,null),(l()(),u.rb(2,0,null,0,7,"ion-toolbar",[],null,null,null,h.ub,h.J)),u.qb(3,49152,null,0,o.Cb,[u.h,u.k,u.z],null,null),(l()(),u.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.P,h.e)),u.qb(5,49152,null,0,o.l,[u.h,u.k,u.z],null,null),(l()(),u.rb(6,0,null,0,2,"ion-back-button",[["defaultHref","/"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Bb(l,8).onClick(t)&&e),e}),h.M,h.b)),u.qb(7,49152,null,0,o.g,[u.h,u.k,u.z],{defaultHref:[0,"defaultHref"]},null),u.qb(8,16384,null,0,o.h,[[2,o.ib],o.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),u.rb(9,0,null,0,0,"img",[["src","/assets/PreetiLogo.png"],["style","height:75px; width: 100px; margin-left: 40%;"]],null,null,null,null,null)),(l()(),u.rb(10,0,null,0,7,"ion-fab",[["horizontal","end"],["vertical","top"]],null,null,null,h.W,h.l)),u.qb(11,49152,null,0,o.w,[u.h,u.k,u.z],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u.rb(12,0,null,0,5,"ion-button",[["color","dark"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openCart()&&u),u}),h.O,h.d)),u.qb(13,49152,null,0,o.k,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.ib(16777216,null,0,1,null,g)),u.qb(15,16384,null,0,f.m,[u.Q,u.M],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(16,0,null,0,1,"ion-icon",[["name","cart"],["slot","icon-only"]],null,null,null,h.ab,h.p)),u.qb(17,49152,null,0,o.C,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.rb(18,0,null,null,30,"ion-content",[],null,null,null,h.V,h.k)),u.qb(19,49152,null,0,o.u,[u.h,u.k,u.z],null,null),(l()(),u.rb(20,0,null,0,28,"ion-grid",[["style","background-color: whitesmoke;"]],null,null,null,h.Y,h.n)),u.qb(21,49152,null,0,o.A,[u.h,u.k,u.z],null,null),(l()(),u.rb(22,0,null,0,26,"ion-row",[],null,null,null,h.lb,h.A)),u.qb(23,49152,null,0,o.jb,[u.h,u.k,u.z],null,null),(l()(),u.rb(24,0,null,0,19,"ion-col",[["size-lg","6"],["size-md","6"],["size-sm","6"]],null,null,null,h.U,h.j)),u.qb(25,49152,null,0,o.t,[u.h,u.k,u.z],null,null),(l()(),u.rb(26,0,null,0,6,"ion-item",[["lines","none"]],null,null,null,h.fb,h.s)),u.qb(27,49152,null,0,o.H,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(l()(),u.rb(28,0,null,0,1,"label",[["style","font-weight: bold; font-size: 12px; color: #000"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Categories"])),(l()(),u.rb(30,0,null,0,2,"select",[["style","max-width:100px; margin-left: 1%;"],["type","text"]],null,[[null,"change"]],(function(l,n,t){var u=!0;return"change"===n&&(u=!1!==l.component.filterItems(t)&&u),u}),null,null)),(l()(),u.ib(16777216,null,null,1,null,m)),u.qb(32,278528,null,0,f.l,[u.Q,u.M,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(33,0,null,0,4,"ion-item",[["lines","none"]],null,null,null,h.fb,h.s)),u.qb(34,49152,null,0,o.H,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(l()(),u.rb(35,0,null,0,1,"label",[["style","font-size: 12px;font-weight:bold;color: #000"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Price Range"])),(l()(),u.rb(37,0,null,0,0,"input",[["id","price-range"],["max","25000"],["min","100"],["style","margin-left: 1%;"],["type","range"]],null,[[null,"input"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==l.component.filterByPrice(t.target.value)&&u),u}),null,null)),(l()(),u.rb(38,0,null,0,5,"ion-item",[],null,null,null,h.fb,h.s)),u.qb(39,49152,null,0,o.H,[u.h,u.k,u.z],null,null),(l()(),u.rb(40,0,null,0,3,"p",[["style","margin-left: 50%;font-size: 12px; color: #000"]],null,null,null,null,null)),(l()(),u.rb(41,0,null,null,1,"span",[["style","font-size: 13px; font-weight: bolder;"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[" Max Price Limit - "])),(l()(),u.Jb(43,null,[" KES ",""])),(l()(),u.rb(44,0,null,0,4,"ion-col",[["size-lg","6"],["size-md","6"],["size-sm","6"]],null,null,null,h.U,h.j)),u.qb(45,49152,null,0,o.t,[u.h,u.k,u.z],null,null),(l()(),u.rb(46,0,null,0,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,y)),u.qb(48,278528,null,0,f.l,[u.Q,u.M,u.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,7,0,"/"),l(n,8,0,"/"),l(n,11,0,"end","top"),l(n,13,0,"dark"),l(n,15,0,t.cart.length>0),l(n,17,0,"cart"),l(n,27,0,"none"),l(n,32,0,t.productCategory),l(n,34,0,"none"),l(n,48,0,t.produce)}),(function(l,n){l(n,43,0,n.component.price)}))}function v(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"app-media",[],null,null,null,z,d)),u.qb(1,114688,null,0,a,[i.a,o.a,i.a,o.Hb,o.Gb],null,null)],(function(l,n){l(n,1,0)}),null)}var k=u.nb("app-media",a,v,{},{},[]),C=t("ZYCi");t.d(n,"MediaPageModuleNgFactory",(function(){return q}));var q=u.ob(b,[],(function(l){return u.yb([u.zb(512,u.j,u.db,[[8,[p.a,k]],[3,u.j],u.x]),u.zb(4608,f.o,f.n,[u.u,[2,f.w]]),u.zb(4608,r.s,r.s,[]),u.zb(4608,r.d,r.d,[]),u.zb(4608,o.b,o.b,[u.z,u.g]),u.zb(4608,o.Hb,o.Hb,[o.b,u.j,u.q]),u.zb(4608,o.Lb,o.Lb,[o.b,u.j,u.q]),u.zb(1073742336,f.c,f.c,[]),u.zb(1073742336,r.q,r.q,[]),u.zb(1073742336,r.h,r.h,[]),u.zb(1073742336,r.o,r.o,[]),u.zb(1073742336,o.Eb,o.Eb,[]),u.zb(1073742336,C.o,C.o,[[2,C.u],[2,C.m]]),u.zb(1073742336,b,b,[]),u.zb(1024,C.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);